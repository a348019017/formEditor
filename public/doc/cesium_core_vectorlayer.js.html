<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: cesium/core/vectorlayer.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: cesium/core/vectorlayer.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { StyleFactory } from "./style";
import { baseObject } from "./core";
/**
 * 矢量图层的包装,这里内部包装了geojsondatasource，仅接受和处理geojson格式数据，此对象一样不可出现再vue的data中
 * @extends baseObject
 * @namespace Core
 */
export class VectorLayer extends baseObject {
  /**
   * 创建一个vector图层通过参数.
   * @param {object} element
   */
  constructor(element) {
    super(element);
    this._style = element.style;
    this._styles = element.styles;
    //这里初次创建时有三组默认的样式根据其点线面的不同
    this._url = element.url;
    this._name = element.name || "new vector layer";

    this._ds = new Cesium.GeoJsonDataSource(this._name);

    let val = this._ds.load(this._url);
    if (val) {
      viewer.dataSources.add(val);
    }
    this._stylesObject = [];
    //处理样式的初始化,此style存放的是style对象,使用工厂模式创建
    // if (this._styles) {
    //   this._stylesObject = this._styles.map((sty) => {
    //     return StyleFactory.createStyle(sty);
    //   });
    // }
  }
  set url(value) {
    this._url = url;
    if (this._ds) {
      this._ds.load(this._url);
    }
  }
  get url() {
    return this._url;
  }
  //isloading不需要序列化
  get isloading() {
    if (this._ds) {
      return this._ds.isLoading;
    }
    return false;
  }
  get style() {
    return _style;
  }
  set style(value) {
    this._style = value;
  }
  get styles() {
    return _styles;
  }
  /**
   * 添加style
   * @param {*} style Object，非对象
   */
  add(style) {
    let _sty = baseObject.createObject(style.type, style, this);
    this._stylesObject.push(_sty);
  }
  /**
   * 移除样式，调用destory即可
   * @param {*} style Object，非对象
   */
  remove(style) {
    let index = this._stylesObject.findIndex(i => i.guid == style.guid);
    if (index >= 0) {
      this._stylesObject[index].destory();
      this._stylesObject = this._stylesObject.slice(index - 1, index);
    }
  }
  /**
   * 销毁此对象和相应资源
   * @param {*} style Object，非对象
   */
  destory() {
    if (this._ds) {
      viewer.dataSources.remove(this._ds, true);
    }
    super.destory();
  }
}

/*
矢量瓦片图层 
 */
export class VectorTileLayer {

}
baseObject.registerClass("geojsonx", VectorLayer);</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="Core.html">Core</a></li></ul><h3>Classes</h3><ul><li><a href="baseObject_baseObject.html">baseObject</a></li><li><a href="Cesium.Measure.html">Measure</a></li><li><a href="CesiumFlyManager.html">CesiumFlyManager</a></li><li><a href="CesiumNavigation.html">CesiumNavigation</a></li><li><a href="GeoJSONVectorTileProvider.html">GeoJSONVectorTileProvider</a></li><li><a href="Layer.html">Layer</a></li><li><a href="NavigationControl.html">NavigationControl</a></li><li><a href="PolygonStyle.html">PolygonStyle</a></li><li><a href="PolylineDashFullMaterialProperty.html">PolylineDashFullMaterialProperty</a></li><li><a href="ResetViewNavigationControl.html">ResetViewNavigationControl</a></li><li><a href="Tile3DLayer_Tile3DLayer.html">Tile3DLayer</a></li><li><a href="UserInterfaceControl.html">UserInterfaceControl</a></li><li><a href="VectorLayer_VectorLayer.html">VectorLayer</a></li><li><a href="ZoomOutNavigationControl.html">ZoomOutNavigationControl</a></li></ul><h3>Global</h3><ul><li><a href="global.html#combineIconAndLabel">combineIconAndLabel</a></li><li><a href="global.html#echartShowType">echartShowType</a></li><li><a href="global.html#hasText">hasText</a></li><li><a href="global.html#initialize">initialize</a></li><li><a href="global.html#mapHelper">mapHelper</a></li><li><a href="global.html#Snow">Snow</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.11</a> on Fri Sep 09 2022 18:10:01 GMT+0800 (中国标准时间)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
